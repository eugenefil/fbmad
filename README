FBMAD
=====

fbmad is a small Linux framebuffer virtual terminal based on the great fbpad by
Ali Gholami Rudi. fbmad assumes a kernel without vt support (e.g. Android
kernel extracted from boot.img). It has the following principal differences
from fbpad:

- terminal multiplexing code is removed (use tmux)

- no dependence on linux vt for input (if you have vt, you don't need fbmad)

- repo includes mkfn_stb util to generate fonts and a default.tf font

SETTING UP
==========

Configuring is done by editing conf.h.

Fbpad fonts can be generated using mkfn_stb util (see below). The FR, FI, and
FB macros specify the path to fbpad fonts for regular, italic, and bold fonts.
If FI or FB is NULL, the regular font is used for italic or bold text.

FGCOLOR and BGCOLOR macros specify foreground and background colors,
for instance the FGCOLOR of 2 and BGCOLOR of 0 creates green on black
terminals.  Individual colors can be customized by editing the hex RGB
color description of COLOR* macros.

256-COLOR MODE
==============

Fbpad supports xterm's 256-color extension, but most programs will not
use this extension, unless the $TERM terminfo entry declares this
feature.  For this purpose, fbpad-256 terminfo file can be created to
contain (the two-space identation should be ignored):

  fbpad-256,
  	use=linux, U8#0,
  	colors#256,
  	pairs#32767,
  	setab=\E[%?%p1%{8}%<%t4%p1%d%e%p1%{16}%<%t10%p1%{8}%-%d%e48;5;%p1%d%;m,
  	setaf=\E[%?%p1%{8}%<%t3%p1%d%e%p1%{16}%<%t9%p1%{8}%-%d%e38;5;%p1%d%;m,

Which can be installed with tic command:

  $ tic -x ./fbpad-256

The following line should be added to shell's startup script:

  export TERM=fbpad-256

Note that in order to use this feature and italic fonts in Vim, adding
fbpad-256 terminfo is not necessary.  Including the following lines in
the vimrc file should enable them:

  set t_ZH=[3m
  set t_Co=256

MKFN_STB
========

This program generates fbpad font files from ttf files. It uses stb_truetype.h
(so no external dependencies).

To control which glyphs to include in the generated font, especially to reduce
the size of the files, edit chars.h.

The height and width of the resulting font can be specified with the -h and -w
options.  Mkfn expects font paths as its final arguments; these fonts are
searched in the same order for the glyphs to put in the resulting fbpad font.
The size and horizontal/vertical DPI of each font may be specified after each
font path as (without the brackets):

  font.ttf:[SZ][hHDPI][vVDPI][rVADJ][cHADJ][bBOLD][aHINT]

in which SZ is the font size, HDPI/VDPI is the horizontal/vertical DPI,
HADJ/VADJ is the amount of horizontal/vertical position adjustment, BOLD
specifies if fonts should be emboldened by repeating pixels, and HINT specifies
if autohinting should be used.

E.g. default.tf was generated by:

  ./mkfn_stb -h16 -w8 /usr/share/fonts/dejavu/DejaVuSansMono.ttf:16 >default.tf
